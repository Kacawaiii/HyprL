ticker: MSFT
group: technology
interval: 1h
period: 730d

model:
  type: xgboost
  artifact: models/msft_1h_xgb_v4.joblib
  calibration: none
  seed: 42
  preset: nvda_v2
  feature_columns:
    - ret_1h
    - ret_3h
    - ret_6h
    - ret_24h
    - atr_14
    - atr_72
    - atr_14_norm
    - atr_72_norm
    - rsi_7
    - rsi_14
    - rsi_21
    - vol_ratio_10_30
    - vol_regime_high
    - volume_zscore_24
    - volume_surge
    - range_pct
    - true_range
    - ret_skew_20
    - ret_kurt_20

thresholds:
  long: 0.63
  short: 0.55

risk:
  risk_pct: 0.01
  atr_multiplier: 1.0
  reward_multiple: 1.5
  min_position_size: 5

trailing:
  enabled: true
  stop_activation: 1.0
  stop_distance: 0.04

replay:
  parity_mode: true
  signal_log: data/signals/msft_replay_signal_log_xgb_v3.csv

meta:
  note: "MSFT 1h v3 (Gate1 preset stable; longs+shorts pipeline fiabilis√©e)."
  strategy_family: portfolio_core_1h_v3
  version_tag: portfolio_core_1h_v3_gate2_oos_v1

enable_trend_filter: true
trend_long_min: 0.0020
trend_short_min: -0.0020

min_ev_multiple: 0.1

max_daily_trades: 3
min_bars_between_entries: 6

multi_timeframes_enabled: true
multi_timeframes_frames: "15m,1h,4h"
fusion_method: min
fusion_weights:
  15m: 0.2
  1h: 0.6
  4h: 0.2

portfolio_risk:
  max_total_risk_pct: 0.05
  max_ticker_risk_pct: 0.03
  max_group_risk_pct: 0.04
  max_positions: 5

live:
  risk:
    max_position_notional_pct: 1.0
  max_notional_per_trade: 0
